env:
  - LWS_METHOD=default
  - LWS_METHOD=noserver CMAKE_ARGS="-DLWS_WITHOUT_SERVER=ON"
  - LWS_METHOD=noclient CMAKE_ARGS="-DLWS_WITHOUT_CLIENT=ON"
  - LWS_METHOD=noext CMAKE_ARGS="-DLWS_WITHOUT_EXTENSIONS=ON"
  - LWS_METHOD=libev CMAKE_ARGS="-DLWS_WITH_LIBEV=ON"
  - LWS_METHOD=noipv6 CMAKE_ARGS="-DLWS_IPV6=OFF"
  - LWS_METHOD=http2 CMAKE_ARGS="-DLWS_WITH_HTTP2=ON"
  - LWS_METHOD=nossl CMAKE_ARGS="-DLWS_WITH_SSL=OFF"
  - LWS_METHOD=nodaemon CMAKE_ARGS="-DLWS_WITHOUT_DAEMONIZE=ON"
compiler:
  - gcc
  - clang
language: c
install:
  - sudo apt-get update -qq && sudo apt-get install -y -qq valgrind
script:
  - mkdir build && cd build && cmake $CMAKE_ARGS .. && cmake --build .

